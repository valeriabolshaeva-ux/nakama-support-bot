---
description: Rules for frontend React/TypeScript development with shadcn/ui
globs: ["frontend/**/*.tsx", "frontend/**/*.ts", "frontend/**/*.css", "frontend/**/*.json"]
alwaysApply: false
---

# Frontend Development Rules (React/TypeScript + shadcn/ui)

## âš›ï¸ React & TypeScript Standards

### Project Structure (Feature-Sliced Design + shadcn)

```
frontend/src/
â”œâ”€â”€ app/                    # ğŸ›ï¸ App initialization
â”‚   â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ store/
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ globals.css     # Tailwind + CSS variables
â”‚
â”œâ”€â”€ components/             # ğŸ§± shadcn/ui components
â”‚   â””â”€â”€ ui/                 # Base UI components
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ entities/               # ğŸ“¦ Business entities
â”‚   â””â”€â”€ [entity]/
â”‚       â”œâ”€â”€ api/
â”‚       â”œâ”€â”€ model/
â”‚       â””â”€â”€ ui/
â”‚
â”œâ”€â”€ features/               # ğŸ”§ User scenarios
â”‚   â””â”€â”€ [feature]/
â”‚       â”œâ”€â”€ index.ts
â”‚       â”œâ”€â”€ model/
â”‚       â””â”€â”€ ui/
â”‚
â”œâ”€â”€ lib/                    # ğŸ“š Utilities
â”‚   â””â”€â”€ utils.ts            # cn() function
â”‚
â”œâ”€â”€ pages/                  # ğŸ“„ Pages
â”œâ”€â”€ shared/                 # ğŸ”— Shared components/hooks
â””â”€â”€ widgets/                # ğŸ§© Widgets
```

## ğŸ¨ Styling with Tailwind CSS

### Golden Rules
```
âœ… Use Tailwind utility classes directly in JSX
âœ… cn() function for conditional/dynamic classes
âœ… CSS variables for theming
âœ… One globals.css for theme variables
âŒ DO NOT use CSS Modules (.module.css)
âŒ DO NOT use inline styles (style={})
âŒ DO NOT use @apply in CSS (only in extreme cases)
```

### cn() Utility
```typescript
// src/lib/utils.ts
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

### Usage Examples
```tsx
import { cn } from "@/lib/utils"

// Simple combination
<div className={cn("flex items-center", className)} />

// Conditional classes
<button className={cn(
  "px-4 py-2 rounded-md",
  isActive && "bg-primary text-primary-foreground",
  isDisabled && "opacity-50 cursor-not-allowed"
)} />

// Override classes (twMerge resolves conflicts)
<div className={cn("p-4", "p-8")} />  // Result: "p-8"
```

## ğŸ§± shadcn/ui Components

### Adding Components
```bash
npx shadcn add button input card dialog table form
```

### Using Components
```tsx
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card"

function LoginForm() {
  return (
    <Card className="w-full max-w-md">
      <CardHeader>
        <CardTitle>Sign In</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        <Input type="email" placeholder="Email" />
        <Input type="password" placeholder="Password" />
        <Button className="w-full">Sign In</Button>
      </CardContent>
    </Card>
  )
}
```

## ğŸ­ Icons (Lucide React)

```tsx
import { Search, Plus, Trash2, Loader2 } from "lucide-react"

// In buttons
<Button>
  <Plus className="mr-2 h-4 w-4" />
  Add
</Button>

// Loading spinner
<Loader2 className="h-4 w-4 animate-spin" />

// Icon sizes
// XS: h-3 w-3 â€” Badges, small indicators
// SM: h-4 w-4 â€” In buttons, inputs
// MD: h-5 w-5 â€” Navigation
// LG: h-6 w-6 â€” Section headers
```

## ğŸ“‹ Forms with react-hook-form + zod

```tsx
import { zodResolver } from "@hookform/resolvers/zod"
import { useForm } from "react-hook-form"
import { z } from "zod"

const schema = z.object({
  email: z.string().email("Invalid email"),
  password: z.string().min(8, "Minimum 8 characters"),
})

type FormValues = z.infer<typeof schema>

function LoginForm() {
  const form = useForm<FormValues>({
    resolver: zodResolver(schema),
    defaultValues: { email: "", password: "" },
  })

  const onSubmit = (values: FormValues) => {
    console.log(values)
  }

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
        <FormField
          control={form.control}
          name="email"
          render={({ field }) => (
            <FormItem>
              <FormLabel>Email</FormLabel>
              <FormControl>
                <Input {...field} />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />
        <Button type="submit">Submit</Button>
      </form>
    </Form>
  )
}
```

## ğŸŒ™ Dark Theme

shadcn/ui uses `.dark` class on `<html>`:

```tsx
// Works in both themes automatically!
<div className="bg-background text-foreground">
  <Card>
    <CardContent className="text-muted-foreground">
      Content
    </CardContent>
  </Card>
</div>
```

## ğŸ“ Common Tailwind Classes

| Purpose | Classes |
|---------|---------|
| Flex container | `flex items-center justify-between gap-4` |
| Grid | `grid grid-cols-3 gap-4` |
| Spacing | `p-4 px-6 py-2 m-4 mx-auto` |
| Sizing | `w-full h-screen min-h-[400px] max-w-md` |
| Typography | `text-sm font-medium text-muted-foreground` |
| Border | `border rounded-md border-input` |
| Background | `bg-background bg-card bg-muted` |
| Shadow | `shadow-sm shadow-md shadow-lg` |
| Transitions | `transition-colors duration-200` |

## ğŸ“ UI States

### Empty State
```tsx
<div className="flex flex-col items-center justify-center py-12 text-center">
  <div className="rounded-full bg-muted p-4">
    <Inbox className="h-8 w-8 text-muted-foreground" />
  </div>
  <h3 className="mt-4 text-lg font-medium">No items</h3>
  <p className="mt-2 text-sm text-muted-foreground">
    Create your first item to get started
  </p>
  <Button className="mt-4">
    <Plus className="mr-2 h-4 w-4" />
    Create
  </Button>
</div>
```

### Loading State
```tsx
<div className="flex items-center justify-center py-12">
  <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
</div>
```

## ğŸš« Prohibited

- Using CSS Modules
- Using inline styles
- Creating components without TypeScript types
- Ignoring accessibility (ARIA, keyboard navigation)
- Using non-semantic HTML elements when semantic ones are available
