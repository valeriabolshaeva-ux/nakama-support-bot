# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: Telegram Support Bot

## Git Workflow

**Pet Project –ø–æ–¥—Ö–æ–¥:**
- –û–¥–∏–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ + AI –∞–≥–µ–Ω—Ç—ã
- –†–∞–±–æ—Ç–∞ –≤ `main` –≤–µ—Ç–∫–µ
- Conventional Commits

---

## –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å |
|---|--------|--------|
| 0.1 | –ò–∑—É—á–∏—Ç—å –¢–ó (`docs/product-requirements.md`) | ‚úÖ |
| 0.2 | –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ | ‚úÖ |
| 0.3 | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é | ‚úÖ |
| 0.4 | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .cursorrules | ‚úÖ |
| 0.5 | –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å .env.example | ‚úÖ |

---

## –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 1.1 | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Pydantic Settings (`config/settings.py`) | üî¥ | ‚úÖ |
| 1.2 | SQLite + SQLAlchemy models (`database/models.py`) | üî¥ | ‚úÖ |
| 1.3 | CRUD operations (`database/operations.py`) | üî¥ | ‚úÖ |
| 1.4 | Bot entry point (`main.py`) | üî¥ | ‚úÖ |
| 1.5 | –¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π (`config/texts.py`) | üî¥ | ‚úÖ |
| 1.6 | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (`config/categories.py`) | üü° | ‚úÖ |

### Acceptance Criteria:
- [x] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- [x] –í—Å–µ –º–æ–¥–µ–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ö–µ–º–µ –≤ `database-schema.md`

---

## –§–∞–∑–∞ 2: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ /start ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 2.1 | Handler /start —Å invite-code | üî¥ | ‚úÖ |
| 2.2 | –í–∞–ª–∏–¥–∞—Ü–∏—è invite-code | üî¥ | ‚úÖ |
| 2.3 | –°–æ–∑–¥–∞–Ω–∏–µ user_binding | üî¥ | ‚úÖ |
| 2.4 | Triage flow (–Ω–µ—Ç –∫–æ–¥–∞) | üî¥ | ‚úÖ |
| 2.5 | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ triage | üî¥ | ‚úÖ |
| 2.6 | FSM –¥–ª—è triage | üü° | ‚úÖ |
| 2.7 | Handler /project (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ) | üü¢ | ‚úÖ |

### Acceptance Criteria:
- [x] `/start CODE` –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –ø—Ä–æ–µ–∫—Ç—É
- [x] `/start` –±–µ–∑ –∫–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç triage –º–µ–Ω—é
- [x] –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É + triage
- [x] "–ù–µ—Ç –∫–æ–¥–∞" —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–º–ø–∞–Ω–∏—é/–∫–æ–Ω—Ç–∞–∫—Ç

---

## –§–∞–∑–∞ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 3.1 | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π | üî¥ | ‚úÖ |
| 3.2 | FSM —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∏–∫–µ—Ç–∞ | üî¥ | ‚úÖ |
| 3.3 | –ü—Ä–∏—ë–º –æ–ø–∏—Å–∞–Ω–∏—è (free text) | üî¥ | ‚úÖ |
| 3.4 | –ü—Ä–∏—ë–º –≤–ª–æ–∂–µ–Ω–∏–π | üî¥ | ‚úÖ |
| 3.5 | –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –≤–ª–æ–∂–µ–Ω–∏—è | üî¥ | ‚úÖ |
| 3.6 | –°–æ–∑–¥–∞–Ω–∏–µ topic –≤ –≥—Ä—É–ø–ø–µ | üî¥ | ‚úÖ |
| 3.7 | –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–∏–∫–µ—Ç–∞ –≤ topic | üî¥ | ‚úÖ |
| 3.8 | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É | üî¥ | ‚úÖ |
| 3.9 | Flow "–°—Ä–æ—á–Ω–æ" (–¥–æ–ø. –≤–æ–ø—Ä–æ—Å—ã) | üü° | ‚úÖ |
| 3.10 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–∏–∫–µ—Ç–∞ | üî¥ | ‚úÖ |

### Acceptance Criteria:
- [x] –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- [x] –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- [x] –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã
- [x] Topic —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
- [x] –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è –∏–∑ –¢–ó

---

## –§–∞–∑–∞ 4: –†–∞–±–æ—Ç–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 4.1 | Filter IsOperator | üî¥ | ‚úÖ |
| 4.2 | Filter IsSupportGroup | üî¥ | ‚úÖ |
| 4.3 | –ö–Ω–æ–ø–∫–∞ "–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É" | üî¥ | ‚úÖ |
| 4.4 | –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å" | üî¥ | ‚úÖ |
| 4.5 | –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–µ—Ç–∞–ª–∏" | üü° | ‚úÖ |
| 4.6 | –ü–µ—Ä–µ—Å—ã–ª–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç—É | üî¥ | ‚úÖ |
| 4.7 | –ò–≥–Ω–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ | üü° | ‚úÖ |
| 4.8 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ | üü° | ‚úÖ |

### Acceptance Criteria:
- [x] –¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã
- [x] –û—Ç–≤–µ—Ç—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–µ—Ä–µ—Å—ã–ª–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É
- [x] –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- [x] "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–µ—Ç–∞–ª–∏" –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —à–∞–±–ª–æ–Ω –∫–ª–∏–µ–Ω—Ç—É

---

## –§–∞–∑–∞ 5: –ü–µ—Ä–µ–ø–∏—Å–∫–∞ –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 5.1 | –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞ –≤ topic | üî¥ | ‚úÖ |
| 5.2 | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ë–î | üî¥ | ‚úÖ |
| 5.3 | –õ–æ–≥–∏–∫–∞ "1 –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–∏–∫–µ—Ç" | üî¥ | ‚úÖ |
| 5.4 | Reopen –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è (< 48h) | üü° | ‚úÖ |
| 5.5 | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ "–Ω–æ–≤—ã–π/–æ—Ç–∫—Ä—ã—Ç—å –∑–∞–Ω–æ–≤–æ" | üü° | ‚úÖ |
| 5.6 | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–∏–π –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ | üü¢ | ‚úÖ |
| 5.7 | –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–ª–æ–∂–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥ | üü¢ | ‚úÖ |

### Acceptance Criteria:
- [x] –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ topic
- [x] –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–æ–º —Ç–∏–∫–µ—Ç–µ ‚Äî –≤—ã–±–æ—Ä: –Ω–æ–≤—ã–π –∏–ª–∏ reopen
- [x] –í–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Å—ã–ª–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –§–∞–∑–∞ 6: CSAT –∏ Feedback ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 6.1 | –û—Ç–ø—Ä–∞–≤–∫–∞ CSAT –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è | üî¥ | ‚úÖ |
| 6.2 | –ö–Ω–æ–ø–∫–∏ üëç / üëé | üî¥ | ‚úÖ |
| 6.3 | –ó–∞–ø—Ä–æ—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø—Ä–∏ üëé | üü° | ‚úÖ |
| 6.4 | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ feedback –≤ –ë–î | üî¥ | ‚úÖ |
| 6.5 | –û—Ç–ø—Ä–∞–≤–∫–∞ feedback –≤ topic | üü° | ‚úÖ |

### Acceptance Criteria:
- [x] CSAT –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è
- [x] –ü—Ä–∏ üëé –±–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- [x] Feedback —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –≤–∏–¥–µ–Ω –≤ topic

---

## –§–∞–∑–∞ 7: Edge Cases –∏ Polish ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 7.1 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ username | üü° | ‚úÖ |
| 7.2 | –û–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞–∂–∞–ª "–≤–∑—è—Ç—å", –¥—Ä—É–≥–æ–π —Ç–æ–∂–µ | üü° | ‚úÖ |
| 7.3 | –ü–æ—Ç–µ—Ä—è–Ω topic_id (API error) | üü° | ‚úÖ |
| 7.4 | Anti-spam –¥–ª—è unknown | üü¢ | ‚è≥ |
| 7.5 | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ | üü° | ‚úÖ |
| 7.6 | Graceful shutdown | üü¢ | ‚úÖ |

---

## –§–∞–∑–∞ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 8.1 | Unit —Ç–µ—Å—Ç—ã –¥–ª—è services | üî¥ | ‚úÖ |
| 8.2 | Unit —Ç–µ—Å—Ç—ã –¥–ª—è operations | üî¥ | ‚úÖ |
| 8.3 | Integration —Ç–µ—Å—Ç—ã handlers | üü° | ‚úÖ |
| 8.4 | –¢–µ—Å—Ç—ã FSM flows | üü° | ‚úÖ |
| 8.5 | –ü–æ–∫—Ä—ã—Ç–∏–µ > 70% | üü¢ | ‚úÖ |

---

## –§–∞–∑–∞ 9: –î–µ–ø–ª–æ–π ‚úÖ

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|--------|-----------|--------|
| 9.1 | Dockerfile | üü¢ | ‚úÖ |
| 9.2 | systemd service | üü° | ‚úÖ |
| 9.3 | –°–∫—Ä–∏–ø—Ç init_data.py | üî¥ | ‚úÖ |
| 9.4 | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é | üü° | ‚úÖ |

---

## –õ–µ–≥–µ–Ω–¥–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| üî¥ | –ö—Ä–∏—Ç–∏—á–Ω–æ (must have) |
| üü° | –í–∞–∂–Ω–æ (should have) |
| üü¢ | –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (nice to have) |

## –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| ‚è≥ | –û–∂–∏–¥–∞–µ—Ç |
| üîÑ | –í —Ä–∞–±–æ—Ç–µ |
| ‚úÖ | –ì–æ—Ç–æ–≤–æ |
| ‚ùå | –û—Ç–º–µ–Ω–µ–Ω–æ |

---

*–ê–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è: 2026-02-05*
